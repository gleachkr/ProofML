<!DOCTYPE html>
<html lang="en">

<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira%20Sans:wght@300;400&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-coy.min.css" integrity="sha512-XcB0I04SuOVkb6ewfVz0qMhU5QADIiFBFxPRRNWZUANF1W5onx8GlbHYYIivw3gXrTuZfu+1gAG8HvvKQG3oGA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>

    @font-face {
    font-family:"Fira Logic";
    src:url("https://cdn.jsdelivr.net/gh/gleachkr/FiraLogic/dist/FiraLogic-Regular.woff") format("woff"), 
    }

    html {
      font-size:24px;
      font-family: 'Fira Sans', sans;
      font-weight:300;
    }

    h1 {
      font-weight:400;
    }
    
    proof-root:not(:defined) {
      display: none;
    }

    body {
      display:flex;
      justify-content:center;
    }

    main {
      max-width:36rem;
    }

    figure {
      display:flex;
      justify-content:center;
      --proofml-font-size: 1.2rem;
      --proofml-font-family: 'Fira Logic', monospace;
    }

    p {
      line-height:1.5;
    }

    :not(pre) > code[class*="language-"] {
      margin-bottom:0;
      border:none;
    }
  </style>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
  <script type="importmap">
    { "imports": { "preact": "https://unpkg.com/htm/preact/index.module.js?module" } }
  </script>

  <script type="module" src="./src/proof.mjs"></script>
  <script type="module" src="./src/proof-preact.mjs"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js" integrity="sha512-UOoJElONeUNzQbbKQbjldDf9MwOHqxNz49NNJJ1d90yp+X9edsHyJoAs6O4K19CZGaIdjI5ohK+O2y5lBTW6uQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-haskell.min.js" integrity="sha512-Ms8C+O5PusTaICWOXF+t5OgMA4O0rNYqkWzOMXtl68aJt1bYFNBX9s8Jd99tcvHCF/JrkYjXvAxSbSUGMMR7pQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <main>
    <h1>ProofML</h1>
    <p>
      Here's a simple idea. What if proof layouts—the kind of thing that
      you see in books like Prawitz's <a>Natural Deduction</a> and create with
      tools like <a>bussproof.sty</a>—were a primitive concept in HTML, just like
      paragraphs and ordered lists?
    </p>
    <p>Kind of like...</p>
    <figure>
      <proof-tree>
        <proof-forest>
          <proof-tree>
            <proof-forest>
              <proof-tree>
                <proof-forest>
                  <proof-tree>
                    <proof-forest>
                      <proof-tree>
                        <proof-forest>
                          <proof-tree>
                            <proof-tree-proposition>R</proof-tree-proposition><proof-tree-inference>(3)</proof-tree-inference>
                          </proof-tree>
                          <proof-tree>
                            <proof-tree-proposition>R->P</proof-tree-proposition><proof-tree-inference>(2)</proof-tree-inference>
                          </proof-tree>
                        </proof-forest>
                        <proof-tree-proposition>P</proof-tree-proposition><proof-tree-inference>->E</proof-tree-inference>
                      </proof-tree>
                      <proof-tree>
                        <proof-tree-proposition>P->Q</proof-tree-proposition><proof-tree-inference>(1)</proof-tree-inference>
                      </proof-tree>
                    </proof-forest>
                    <proof-tree-proposition>Q</proof-tree-proposition><proof-tree-inference>->E</proof-tree-inference>
                  </proof-tree>
                </proof-forest>
                <proof-tree-proposition>R->Q</proof-tree-proposition><proof-tree-inference>->I(3)</proof-tree-inference>
              </proof-tree>
            </proof-forest>
            <proof-tree-proposition>(R->P)->(R->Q)</proof-tree-proposition><proof-tree-inference>->I(2)</proof-tree-inference>
          </proof-tree>
        </proof-forest>
        <proof-tree-proposition>(P->Q)->((R->P)->(R->Q))</proof-tree-proposition><proof-tree-inference>->I(1)</proof-tree-inference>
      </proof-tree>
    </figure>
    <p>You should be able to combine a proof with tools like \(\KaTeX\), of course:</p>
    <figure>
      <proof-tree>
        <proof-forest>
          <proof-tree-proposition>\(\Gamma\vdash\Lambda X.t:\forall X.T\)</proof-tree-proposition>
          <proof-tree-proposition>\(U : \mathsf{Type}\)</proof-tree-proposition>
        </proof-forest>
        <proof-tree-proposition>\(\Gamma\vdash (\Lambda X.t:\forall X.T)U\equiv t[U/X]:T[U/X]\)</proof-tree-proposition><proof-tree-inference>\(\beta\)</proof-tree-inference>
      </proof-tree>
    </figure>
    <p>And it'd be nice to be able to build proofs out of syntax-highlighted code blocks, using Prism.js or whatever…</p>
    <figure>
      <proof-tree>
        <proof-forest>
          <proof-tree-proposition><code class="language-haskell">(m >>= g) >>= h == k</code></proof-tree-proposition>
        </proof-forest>
        <proof-tree-proposition><code class="language-haskell">m >>= (\x -> g x >>= h) == k</code></proof-tree-proposition><proof-tree-inference>Assoc</proof-tree-inference>
      </proof-tree>
    </figure>
    <p>It would also make sense to be able to edit proofs, like by including editable elements, or applying <code>contenteditable</code>. The layout should resize naturally.
    <figure>
      <proof-tree>
        <proof-forest>
          <proof-tree-proposition>P→¬?</proof-tree-proposition>
          <proof-tree-proposition><div contenteditable style="width:fit-content;">?</div></proof-tree-proposition>
        </proof-forest>
        <proof-tree-proposition>¬P</proof-tree-proposition><proof-tree-inference>MT</proof-tree-inference>
      </proof-tree>
    </figure>

  </main>
</body>

</html>
